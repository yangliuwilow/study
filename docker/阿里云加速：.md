docker阿里云加速：

https://dev.aliyun.com/search.html



###1.  docker 命令

| 命令                               | 说明                                                     |
| ---------------------------------- | -------------------------------------------------------- |
| docker -verion                     | 版本                                                     |
| docker info                        | docker信息                                               |
| docker --help                      | 帮助信息                                                 |
| docker  search -s 30 tomcat        | 搜索点赞数超过30的 镜像                                  |
| docker  pull tomcat                | 等价于  docker pull tomcat:latest    默认tag为latest版本 |
| docker  iamges                     | 显示镜像                                                 |
| docker  images -q                  | 只显示镜像的ID                                           |
| docker rmi -f $(docker images -qa) | 批量删除镜像                                             |
| docker rmi  tomcat:latest          | 删除tomcat镜像                                           |
| docker rmi  -f   tomcat:latest     | -f  强制删除                                             |
| docker search centos               | 搜索镜像                                                 |
| docker rm -f$(docker ps -a -q )    | 批量删除多个容器                                         |
| docker ps -a -q \|xargs docker rm  | 批量删除多个容器                                         |
|                                    |                                                          |
|                                    |                                                          |
|                                    |                                                          |
|                                    |                                                          |
|                                    |                                                          |
|                                    |                                                          |

### Docker commit 命令，从容器创建一个新的镜像。 

##### 语法

```
docker commit [OPTIONS] CONTAINER [REPOSITORY[:TAG]]
```

OPTIONS说明：

- **-a :**提交的镜像作者；
- **-c :**使用Dockerfile指令来创建镜像；
- **-m :**提交时的说明文字；
- **-p :**在commit时，将容器暂停。

 实例：

~~~shell
[root@localhost local]# docker ps -a  #查看容器
# 根据容器ID=e961a7327d43 的tomcat创建一个新的willow/tomcat:v1镜像，
[root@localhost local]# docker commit -a "willow" -m "my tomcat"  e961a7327d43  willow/tomcat:v1
[root@localhost local]# docker images  #查看镜像，生成了一个新的tomcat镜像
#启动刚才新创建的镜像，访问http://ip:8083  
[root@localhost ~]# docker run -d -p 8083:8080 --name mytomcat8083  8b0fa81a01b3
 
~~~







~~~shell
docker info 
docker -verion  #版本
docker --help   #帮助信息

docker  search -s 30 tomcat  #搜索点赞数超过30的 镜像


docker  pull tomcat  #等价于  docker pull tomcat:latest    默认tag为latest版本

docker iamges   #显示镜像

docker images -q #只显示镜像的ID

docker rmi -f $(docker images -qa)  #批量删除

docker rmi  tomcat:latest   #删除镜像

#docker rmi  -f  镜像名：tag  或者 docker rmi  -f  imagesID：tag
docker rmi  -f   tomcat:latest   #删除镜像  -f强制删除


~~~



### Docker安装centos

~~~shell
[root@localhost ~]# docker pull centos
[root@localhost ~]# docker run -it centos /bin/bash # i交互模式  -t 打开centos的客户端
[root@localhost ~]# docker run -d  centos  //后台运行，不进入centos命令
 #后台运行后，通过docker ps - a 查看，centos 已经关闭了，无人访问自动关闭机制，
 
[root@87a3fc8baf87 /]# exit                退出centos，关闭

按住：Ctrl+P+Q #退出centos,不关闭


#启动方式二：  while循环，每2秒打印"hello willow" 一次； 在通过 docker ps - a查看，此时centos未关闭
[root@localhost ~]# docker run -name="mycentos" -d centos /bin/sh -c "while true; do echo hello willow; sleep 2;done"
#查看centos 日志
[root@localhost ~]# docker logs -t -f --tail 3 c0c1d8c56aab
#查看容器的进程信息
[root@localhost ~]# docker top c0c1d8c56aab
#进入后台运行的centos中
[root@localhost ~]# docker attach c0c1d8c56aab   

#对于一个精简的 OS，rootfs 可以很小，只需要包括最基本的命令、工具和程序库就可以了，因为底层直接用 Host 的 kernel，自己只需要提供 rootfs 就行了。由此可见对于不同的liunx发行版，kernel基本是一致的，rootfs会有差别，因此不同的发行版可以公用kernel。



   
~~~



 